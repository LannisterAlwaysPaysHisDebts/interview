## question
### goroutine
1. 进程、线程、协程的区别. 

2. 怎么实现进程之间和线程之间的同步
    
3. 进程有哪几种状态，它们之间互相是怎么转换的?

4. 对goroutine的理解, 讲一下goroutine的实现方式

5. 什么是协程泄露(Goroutine Leak)？

6.  Go 可以限制运行时操作系统线程的数量吗

7. goroutine 的调度是怎样的？

8. 进程虚拟空间分布，全局变量放哪里？

9. 操作系统内存管理？进程通讯，为什么共享存储区效率最高?

10. ipc方式，共享存储区原理

11. 进程虚拟空间布局

12. 进程状态转换

13. 线程的栈在哪里分配

14. 多个线程读，一个线程写一个int32会不会有问题，int64呢（这里面试官后来说了要看数据总线的位数，32位的话写int32没问题，int64就有问题）

15. goroutine 和 kernel thread 之间是什么关系？

17. 堆与栈的区别

18. 内核态和用户态的划分与切换

19. 虚拟地址怎么映射到物理地址

20. 简述 IO 多路复用

21. 简述进程通信的各种方法

23. goroutine 超时如何处理。

24. 问了 go 相关的问题，如果在一个 goroutine 里面发生的 panic，这个错误能捕捉吗
    之前验证过这个问题,直接回答了 goroutine 里面的 panic 只有在 goroutine 里面才能用 recover()捕捉，主协程无法捕捉，会导致整个进程崩溃
    然后问了框架是否应该在 goroutine 里自动进程捕捉，这个还没有认真考虑过，选了一个回答说不提供，这个回答面试官好像不满意

25. 另外一个 go 的问题，由于 go 协程无法预知执行顺序，如何控制 gorotine 的执行顺序
    回答说给每个 goroutine 传入一个编号，然后使用原子操作维持一个公共计数，计数与编号一直的协程才执行后续逻辑，执行完之后就给计数加一，触发下一个协程执行
    面试官说这个方式复杂了，有没有简单的办法，想了下没想到合适的方案



# channel问题
1. channel的实现方式; mutex和channel作并发控制你喜欢用哪个，哪个快，为什么? 自己设计一个mutex.

2. 向一个已经关闭了的channel写入数据会怎样? 怎么判断一个channel已经关闭?

3. 简述channel, bufferd channel, unbuffed channel; 

4. channel的死锁与解决方法; 

5. 单项channel与双向channel; select多路监听

6. 为什么channel可以做到线程安全?

7. 如何用channel实现一个令牌桶？

8. 退出程序时怎么防止channel没有消费完

9. 用channel实现定时器？（实际上是两个协程同步）

10. 关于channel的特性，下面说法正确的是（）
    A. 给一个 nil channel 发送数据，造成永远阻塞
    B. 从一个 nil channel 接收数据，造成永远阻塞
    C. 给一个已经关闭的 channel 发送数据，引起 panic
    D. 从一个已经关闭的 channel 接收数据，如果缓冲区中为空，则返回一个零值


## answer
### goroutine
1. 进程、线程、协程的区别. 
    定义上的区别:
    - 进程是程序在操作系统中的一次执行过程，系统进行资源分配和调度的一个独立单位。
    - 线程是进程的一个执行实体，是CPU调度和分派的基本单位，它是比进程更小的能独立运行的基本单位。
    - 协程:独立的栈空间，共享堆空间，调度由用户自己控制，本质上有点类似于用户级线程，这些用户级线程的调度也是自己实现的。一个线程上可以跑多个协程，协程是轻量级的线程。

    进程在执行过程中拥有独立的内存单元，而多个线程共享内存。
    每个独立的线程有一个程序运行的入口、顺序执行序列和程序的出口。线程不能够独立执行，必须依存在应用程序中，由应用程序提供多个线程执行控制。
    从逻辑角度来看，多线程的意义在于一个应用程序中，有多个执行部分可以同时执行。但操作系统并没有将多个线程看做多个独立的应用，来实现进程的调度和管理以及资源分配。这就是进程和线程的重要区别。

    进程线程都有内核态用户态的切换，协程只在用户态调度。对linux底层调度器来说，无论是线程还是进程，调度器只认task_struct对象，所以进程调度和线程调度是一回事,只是上下文切换时保存的内容不同.


2. 怎么实现进程之间和线程之间的同步

    进程: 信号量(PV操作,P申请资源,V释放资源);管道;
    线程: 临界区;互斥量;共享内存;消息队列;网络;

3. 进程有哪几种状态，它们之间互相是怎么转换的?

    就绪： 当进程已分配到除CPU以外的所有必要的资源，只要获得处理机便可立即执行，这时的进程状态称为就绪状态。
    执行：当进程已获得处理机，其程序正在处理机上执行，此时的进程状态称为执行状态。
    阻塞：正在执行的进程，由于等待某个事件发生而无法执行时，便放弃处理机而处于阻塞状态。引起进程阻塞的事件可有多种，例如，等待I/O完成、申请缓冲区不能满足、等待信件(信号)等。


18. 内核态和用户态的划分与切换




### channel

2. 向一个已经关闭了的channel写入数据会怎样? 怎么判断一个channel已经关闭?
    1. 对一个关闭的通道再发送值就会导致panic。
    2. 对一个关闭的通道进行接收会一直获取值直到通道为空。
    3. 对一个关闭的并且没有值的通道执行接收操作会得到对应类型的零值。
    4. 关闭一个已经关闭的通道会导致panic。

10. 关于channel的特性，下面说法正确的是（）
    ABCD

