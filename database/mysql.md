# 引擎
1. InnoDB、MyISAM的区别,各自使用的索引

2. 简述关系型数据库与非关系形数据库的区别与联系

3. Mysql事务（ACID）

4. 简述mysql常见的优化操作
    选择合理的数据库引擎;选择合适的字段类型;部分字段建立索引;主从复制读写分离;分库分表;

5. 如何分析SQL执行慢的原因

6. select * from table  where id=1 或  where a=1 数据是怎么查出来的

7. mysql主从怎么实现的

8. mysql 隔离级别、mvvc  索引种类和区别、gap、innodb、

9. 业务场景上、mysql redis 怎么达到分布式一致性

10. mysql 主从的时候有没有遇到过主从延迟同步的情况？是怎么解决的？

11. 有用过 MySQL 的什么高级特性吗?这里不太理解，我问什么算高级特性，面试官就切换到了下一个问题

12. 为什么选 InnoDB?几乎所有公司用 MySQL 都用 InnoDB，降低踩坑成本；聚簇索引，MVCC

13. MySQL 的聚簇索引和非聚簇索引有什么区别?
    聚簇索引的叶子节点是数据节点（比如定义了主键时的主键索引），非聚簇索引叶子节点是指向数据块的指针
    Clustered Indexs: MySQL InnoDB会为表的主键字段创建聚簇索引，在底层结构的叶子节点中会记录完整的表记录。
    Secondary Indexs: 非主键字段的索引被称为非聚簇索引，当使用非聚簇索引时，首先找到符合条件的主键字段的值，之后使用聚簇索引查询出完整的表记录。

14. mysql语句性能评测？

15. 问了处理过的表的数据量级，以及分表的策略
    然后追问了分表下的利弊
    问了分表下不同查询维度如何实现，最终引导除了双向表，得出分表了一个弊端，即数据冗余
    然后说优势，减少单个表的索引大学，加快查询速度，多个表也可以支持并发插入

16. TiDB相关特性

17. 查看连接数和进程数
    使用show PROCESSLIST可以查看MySQL的所有连接

18. 慢查询是什么
    SQL的执行时间超过MySQL中long_query_time参数的值的时候，会被记录到慢查询SQL日志文件中


# 索引
1. B+树索引原理、为什么使用B+树而不使用红黑树，B+树为什么比红黑树快? 为什么是B+而不是平衡二叉树? 
    B+树是多叉树，深度更小，B+树可以对叶子节点进行顺序遍历，B+树能够更好地利用磁盘扇区；二叉树：实现简单


2. 索引查找在Linux的磁盘上是怎么操作的? 

3. 聚簇索引相对于B+索引的优点

4. myisam的索引结构， innodb的索引结构，innodb为什么必须要有主键索引

5. 添加索引，为什么可以减少io操作

6. 索引的时间复杂度

7. 针对一个场景设计索引，具体场景忘记了，反正考察的是联合索引与列选择性的知识

8. A in ()
    1. 现有一个新的查询场景, 要怎么解决?假如要查 A in () AND B in (), 怎么建索引?
    只给选择性高的一列建索引，这里因为两个都是范围查询所以另一个是走不到索引的（这里答的不好，其实也可以建联合索引然后用 （A,B) in ((1,2),(3,4)) 的方式去查）

    2. 查 A in () AND B in () 时, MySQL 是怎么利用索引的?
    先走一个非聚簇索引，查询出行数据后再用另一列回表做筛选
    
    3. 假如查询 A in (), MySQL 是针对 N 个值分别查一次索引, 还是有更好的操作?不知道，有了解的同学可以留言 (补充, @BillyLu 贴出了文档 equality-range-optimization, 大意是对非唯一索引 MySQL 会使用 index dive 的方式估算这个 range index 涉及的行数, 结合where optimization 中说明的在走 index 时假如涉及行数过多会走 full table scan, 那么假如 estimation 认为这次 IN 不够好, 是会走全表扫描的. 不知道除此之外, 面试官还有没有想考察的点)


9. mysql里的索引: https://leetcode-cn.com/circle/discuss/BwWvP4/

10. 联合索引的问题，A,B,C 三个字段，建立联合索引，列出了几种查询组合判断是否能命中索引
    这个相对基础点了，所以直接给出了答案
    面试官接着问了有一句总结出来描述这种索引顺序的总结话语是什么，这个想了下，好像没看到过
    接着问了为什么查询必须按照索引的顺序
    之前看《 Mysql 技术内幕：Innodb 存储引擎》时有提到这块，不过印象比较模糊了，同时这部分内容恰巧没有做笔记，所以只能根据对 B+树的理解给出一个解释
    面试官没有明确的表示
    （后面再回去看那本书，里面的解释是联合索引是一个多键值的 B+树）

11. 联合索引中的字段顺序会产生什么影响
    最左优先原则：要想SQL执行的时候能够用到联合索引，那么联合索引中的第一个字段一定要在where语句中，并且不能让该字段参与任何运算

12. 什么情况下需要建索引，什么情况下可以不建
    首先，要弄清楚[MySQL的数据查询原理](https://github.com/dooonabe/no-class-is-an-island/blob/master/article/Database/mysql.md)：InnoDB使用primary key通过clustered index(主索引)定位到完整的记录，每个secondary index(二级索引)都会包含primary key，所以无论是使用什么类型的索引，都是先查找符合条件的primary key列表。

    那么如果查询语句的查询条件仅用到primary key，那么就不需要增加索引，此外如果查询条件的字段是仅包含两三个值的枚举类型，也是不需要增加索引。

13. select * from t where a=? and b>? order by c limit 0,100 如何加索引
    如果是我建的话 index （ a,b,c ）
    根据 ab 查询到的数据，已经把 c 进行了排序了。。。
    这个你理解有问题，他是考察你的最左匹配原则 正确答案应该是 acb 或者 cab.
    我最近看的时候说加了范围之后后面查询不走索引，自己又试了一下发现也走，不明所以
    是这样的 范围会用到一部分 但是接下来绝对会用到了。
    首先 explain 的时候要避免 type=all 和 filesort 这两个出现
    比如条件是 a>10 b=5 我索引弄成 a,b 也是能用到 a 这个部分的 但是 b 就用不到了
    但是如果索引是 b,a 就会完全用到索引。
    另外就是 order by 这个
    如果你 select c order by c 索引是 c 开头 是可以用的上的
    但是 select * order by c 这就不行了
    所以这道题是有陷阱的，你要考虑到表中是否是只有 abc 三个字段 那么答案是唯一的 cab
    否则就是 ab。也就是说我之前也说的不对。
    这道题表面是考最左匹配 其实也包含了聚簇索引相关知识。


# 锁
1. Mysql有哪些锁、隔离级别、不可重复读和幻读分别是在哪个隔离级别解决的，幻读解决的原理

2. Mysql怎样加锁、隐式、显式（或者说，由谁决定加锁）

3. update set a=1 from table where a=2 会加锁吗。怎么加的。会锁表吗

4. InnoDb是表锁还是行锁，为什么

    